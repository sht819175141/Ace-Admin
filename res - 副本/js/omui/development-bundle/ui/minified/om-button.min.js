(function(a){a.omWidget("om.omButton",{options:{disabled:null,label:null,icons:{left:null,right:null},width:null,onClick:null},_create:function(){this._determineButtonType();var e=a("<span>").addClass("om-btn om-state-default").css("border","none"),d=a("<span>").addClass("om-btn-bg om-btn-left"),c=a("<span>").addClass("om-btn-bg om-btn-center"),b=a("<span>").addClass("om-btn-bg om-btn-right");if(this.element.hasClass("apusic-btn-deepblue")){e.addClass("apusic-btn-deepblue")}this.element.addClass("om-btn-txt").css({"background-position":"left center","background-repeat":"no-repeat"}).wrap(e).before(d).after(b).wrap(c)},_init:function(){var c=this,d=this.options,e=this.element;if(typeof d.disabled!="boolean"){d.disabled=e.propAttr("disabled")}if(e.attr("disabled")=="disabled"||d.disabled=="disabled"){d.disabled=true}this._initButton();if(d.disabled){c._addClass("disabled");e.css("cursor","default")}var b=e.parent().parent();b.bind("mouseenter",function(f){if(d.disabled){return false}c._addClass("hover")}).bind("mouseleave",function(f){if(d.disabled){return false}c._removeClass("hover");c._removeClass("active")}).bind("click",function(f){if(d.disabled){f.preventDefault();f.stopImmediatePropagation();return false}else{if(c.options.onClick){c._trigger("onClick",f)}}}).bind("mousedown",function(f){if(d.disabled){return false}c._addClass("active");c._removeClass("focus");var g=d.onClick}).bind("mouseup",function(f){if(d.disabled){return false}c._addClass("focus");c._removeClass("active")}).bind("keydown",function(f){if(d.disabled){return false}if(f.keyCode==a.om.keyCode.SPACE||f.keyCode==a.om.keyCode.ENTER){c._addClass("active")}if(f.keyCode==a.om.keyCode.SPACE){var g=d.onClick;if(g&&c._trigger("onClick",f)===false){return}}}).bind("keyup",function(){c._removeClass("active")});e.bind("focus.button",function(f){if(d.disabled){return false}c._addClass("focus")}).bind("blur.button",function(f){if(d.disabled){return false}c._removeClass("focus")})},enable:function(){this._removeClass("disabled");this.options.disabled=false;this.element.css("cursor","pointer").removeAttr("disabled")},disable:function(){this._addClass("disabled");this.options.disabled=true;this.element.css("cursor","default");if(this.type=="input"||this.type=="button"){this.element.attr("disabled","disabled")}},click:function(){if(!this.options.disabled&&this.options.onClick){this._trigger("onClick")}},changeLabel:function(b){if(this.type=="a"){this.element.text(b)}else{if(this.type=="input"){this.element.val(b)}else{if(this.type=="button"){this.element.html(b)}}}},changeIcons:function(b){if(!this.options.disabled){if(b){b.left?this.element.css("backgroundImage","url( "+b.left+" )"):null;b.right?this.element.next().attr("src",b.right):null}}},destroy:function(){$el=this.element;$el.closest(".om-btn").after($el).remove()},_addClass:function(b){this.element.parent().parent().addClass("om-state-"+b)},_removeClass:function(b){this.element.parent().parent().removeClass("om-state-"+b)},_initButton:function(){var c=this.options,b=this._getLabel(),d=this.element;d.removeClass("om-btn-icon om-btn-only-icon").next("img").remove();if(c.width>10){d.parent().css("width",parseInt(c.width)-10)}if(this.type=="a"||this.type=="button"){d.html(b)}else{d.val(b)}if(c.icons.left){if(b){d.addClass("om-btn-icon").css("background-image","url("+c.icons.left+")")}else{d.addClass("om-btn-only-icon").css("background-image","url("+c.icons.left+")")}}if(c.icons.right){if(b!=""){a("<img>").attr("src",c.icons.right).css({"vertical-align":"baseline","padding-left":"3px"}).insertAfter(d)}else{a("<img>").attr("src",c.icons.right).css("vertical-align","baseline").insertAfter(d)}}},_getLabel:function(){return this.options.label||this.element.html()||this.element.text()||this.element.val()},_determineButtonType:function(){if(this.element.is("input")){this.type="input"}else{if(this.element.is("a")){this.type="a"}else{if(this.element.is("button")){this.type="button"}}}}})})(jQuery);