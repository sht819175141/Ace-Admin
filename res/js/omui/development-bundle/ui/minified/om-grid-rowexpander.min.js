(function(a){a.omWidget.addInitListener("om.omGrid",function(){var k=this,d=this.options,c=d.rowDetailsProvider,i=d.colModel,g=this.thead;if(!(c&&i.length>0)){return}g.find("th:first").before('<th align="center" axis="expenderCol" class="expenderCol" rowspan='+(a.isArray(i[0])?i.length:1)+'><div style="text-align: center; width: 14px;"></div></th>');var b=-1,h=0;i=this._getColModel();a(i).each(function(l){if(i[l].width=="autoExpand"){b=l}else{h+=i[l].width}});var e=g.find('th[axis="expenderCol"]').width();if(b!=-1){g.find('th[axis="col'+b+'"] >div').css("width","-="+e)}else{if(d.autoFit){var f=e/h;g.find('th[axis^="col"] >div').each(function(l){a(this).css("width","-="+parseInt(i[l].width*f))})}}var j=this._getHeaderCols().size();this.tbody.delegate("td.expenderCol >div","click",function(n){var p=a(this),l=p.closest("tr"),m=l.next("tr");if(m.hasClass("rowExpand-rowDetails")){m.toggle()}else{var o=k._getTrs().index(l);rowData=k._getRowData(o),rowDetails=c?c(rowData,o):"&#160;";l.after('<tr class="rowExpand-rowDetails"><td colspan="'+(j-1)+'"><div class="rowExpand-rowDetails-content">'+rowDetails+"</div></td></tr>")}p.toggleClass("rowExpand-expanded").parent().attr("rowspan",p.hasClass("rowExpand-expanded")?2:1);return false})})})(jQuery);